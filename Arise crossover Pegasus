--[[
  Ø³ÙƒØ±Ø¨Øª Pegasus Ø§Ù„Ù…Ø·ÙˆØ± Ù„Ù€ Arise Crossover
  Ø§Ù„Ø¥ØµØ¯Ø§Ø±: 2.5 (Ù…Ø¯Ù…Ø¬)
  Ø§Ù„Ù…ÙŠØ²Ø§Øª:
  - ÙˆØ§Ø¬Ù‡Ø© Ø±Ø³ÙˆÙ…ÙŠØ© Ù„Ù„Ù‡Ø§ØªÙ
  - ÙØ§Ø±Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø°ÙƒÙŠ
  - ØªØ£Ø®ÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
  - Ø³Ø±Ø¹Ø© Ø¶Ø±Ø¨ Ù…ØªØºÙŠØ±Ø©
  - ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®Ø§ØµØ© Ø¨Ù€ Winter Raid ÙˆÙ‚Ù„Ø¹Ø© Ø§Ù„Ø¬Ø­ÙŠÙ…
]]

loadstring(game:HttpGet("https://raw.githubusercontent.com/JustLevel/goombahub/main/AriseCrossover.lua", true))()

-- ========== Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ========== --
local WinterRaidMapName = "Winter Raid"
local HellCastleMapName = "Hell Castle"
local AutoFarmEnabled = false
local BoostDamage = false
local lastPauseTime = tick()

-- ========== ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø«Ø§Ù†ÙŠ ========== --
local function getFarmDelay()
    local mapName = game:GetService("Workspace"):FindFirstChild("PlaceName")
    if mapName and mapName:IsA("StringValue") then
        if mapName.Value == WinterRaidMapName then
            return math.random(18, 19) / 10 -- ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„Ø±Ø§ÙŠØ¯
        elseif mapName.Value == HellCastleMapName then
            return 0.3 -- Ø³Ø±Ø¹Ø© ÙØ§Ø±Ù… Ø¹Ø§Ù„ÙŠØ© ÙÙŠ Ù‚Ù„Ø¹Ø© Ø§Ù„Ø¬Ø­ÙŠÙ…
        else
            return 0 -- Ø¨Ø¯ÙˆÙ† ØªØ£Ø®ÙŠØ± ÙÙŠ Ø§Ù„Ø¯Ù†Ø¬Ù†Ø² Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
        end
    end
    return 1.5
end

local function adjustAttackSpeed()
    if BoostDamage then
        return math.random(0.2, 0.3) -- Ø³Ø±Ø¹Ø© Ø¶Ø±Ø¨ Ø¹Ø§Ù„ÙŠØ© Ù„Ù„Ø¨ÙˆØ³Ø§Øª
    else
        return math.random(0.4, 0.5) -- Ø³Ø±Ø¹Ø© Ø¶Ø±Ø¨ Ø¹Ø§Ø¯ÙŠØ©
    end
end

local function findNearestNPC()
    local nearestNPC = nil
    local shortestDistance = math.huge
    for _, npc in pairs(game:GetService("Workspace").NPCs:GetChildren()) do
        if npc:FindFirstChild("Humanoid") and npc.Humanoid.Health > 0 then
            local distance = (npc.PrimaryPart.Position - game.Players.LocalPlayer.Character.PrimaryPart.Position).Magnitude
            if distance < shortestDistance then
                nearestNPC = npc
                shortestDistance = distance
            end
        end
    end
    return nearestNPC
end

local function attackTarget(target)
    if target and target:FindFirstChild("Humanoid") then
        repeat
            pcall(function()
                if BoostDamage then
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = target.PrimaryPart.CFrame * CFrame.new(0, 0, 2)
                else
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = target.PrimaryPart.CFrame * CFrame.new(0, 0, 3)
                end
                game:GetService("ReplicatedStorage").Remotes.Damage:FireServer(target)
            end)
            task.wait(adjustAttackSpeed())
        until target.Humanoid.Health <= 0 or not AutoFarmEnabled
    end
end

-- ========== Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø³ÙˆÙ…ÙŠØ© ========== --
local function createMobileGUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "AriseCrossoverMobileGUI"
    screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

    local toggleButton = Instance.new("TextButton")
    toggleButton.Name = "ToggleButton"
    toggleButton.Size = UDim2.new(0, 150, 0, 60)
    toggleButton.Position = UDim2.new(0.8, 0, 0.9, 0)
    toggleButton.Text = "Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø³ÙƒØ±Ø¨Øª"
    toggleButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
    toggleButton.TextColor3 = Color3.new(1, 1, 1)
    toggleButton.Font = Enum.Font.GothamBold
    toggleButton.TextSize = 14
    toggleButton.Parent = screenGui

    -- Ø¹Ù„Ø§Ù…Ø© Ù…Ø§Ø¦ÙŠØ©
    local watermark = Instance.new("TextLabel")
    watermark.Name = "Watermark"
    watermark.Text = "Pegasus Script v2.5"
    watermark.Size = UDim2.new(0, 200, 0, 30)
    watermark.Position = UDim2.new(0.01, 0, 0.95, 0)
    watermark.TextColor3 = Color3.fromRGB(255, 255, 255)
    watermark.BackgroundTransparency = 1
    watermark.Font = Enum.Font.GothamBold
    watermark.TextSize = 14
    watermark.Parent = screenGui

    toggleButton.MouseButton1Click:Connect(function()
        AutoFarmEnabled = not AutoFarmEnabled
        toggleButton.Text = AutoFarmEnabled and "Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø³ÙƒØ±Ø¨Øª" or "ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª"
        toggleButton.BackgroundColor3 = AutoFarmEnabled and Color3.fromRGB(200, 60, 60) or Color3.fromRGB(60, 200, 60)
        
        if AutoFarmEnabled then
            lastPauseTime = tick()
            task.spawn(autoFarm)
        end
    end)
end

-- ========== Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„ÙØ§Ø±Ù… ========== --
local function autoFarm()
    while AutoFarmEnabled do
        local delay = getFarmDelay()
        local npc = findNearestNPC()
        if npc then
            attackTarget(npc)
        end

        -- Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª Ù„Ù„Ø³Ù„Ø§Ù…Ø© ÙƒÙ„ 30 Ø¯Ù‚ÙŠÙ‚Ø©
        if tick() - lastPauseTime >= 1800 then
            AutoFarmEnabled = false
            game.StarterGui:SetCore("ChatMakeSystemMessage", {
                Text = "â¸ï¸ ØªÙˆÙ‚Ù Ù…Ø¤Ù‚Øª Ù„Ù„Ø³Ù„Ø§Ù…Ø©...";
                Color = Color3.fromRGB(255, 255, 0);
            })
            task.wait(60)
            AutoFarmEnabled = true
            lastPauseTime = tick()
        end

        task.wait(delay)
    end
end

-- ========== Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ ========== --
createMobileGUI()
game.StarterGui:SetCore("ChatMakeSystemMessage", {
    Text = "âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø³ÙƒØ±Ø¨Øª Pegasus Ø¨Ù†Ø¬Ø§Ø­!";
    Color = Color3.fromRGB(0, 255, 0);
})

print("ğŸ”µ Ø³ÙƒØ±Ø¨Øª Pegasus Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„!")
